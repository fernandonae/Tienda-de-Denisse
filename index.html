<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Punto de Venta</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-pink-50 min-h-screen flex flex-col">

  <!-- ===== MENU ===== -->
  <nav class="bg-pink-600 text-white px-8 py-4 flex gap-8 shadow">
    <button id="btnPOS" class="font-bold text-lg">POS</button>
    <button id="btnProducts" class="opacity-80 hover:opacity-100">Productos</button>
    <button id="btnReports" class="opacity-80 hover:opacity-100">Reportes</button>
    <button id="btnPartners">Socios</button>

  </nav>

  <!-- ===== CONTENEDOR ===== -->
  <main class="flex-1 p-6">

    <!-- ================= POS ================= -->
    <section id="posSection"
      class="bg-white rounded-2xl shadow-lg grid grid-cols-3 overflow-hidden h-[85vh]"> <div class="col-span-2 p-6 border-r flex flex-col h-full">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">
          Productos
        </h2>

        <input
          id="search"
          type="text"
          placeholder="Buscar producto por nombre o tag..."
          class="w-full p-4 rounded-lg border border-pink-300 focus:ring-2 focus:ring-pink-400 outline-none mb-4"
        />

        <input
        id="barcodeInputPOS"
        type="text"
        placeholder="Escanea el cÃ³digo de barras aquÃ­..."
        class="w-full p-4 rounded-lg border-2 border-pink-400 focus:ring-2 focus:ring-pink-500 outline-none mb-4"
        />

        <div id="products" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto content-start p-2">
            </div>

      </div>

      <div class="p-6 flex flex-col h-full bg-gray-50">
        <h2 class="text-2xl font-bold text-pink-600 mb-4">ðŸ§¾ Ticket</h2>

        <div class="flex-1 overflow-y-auto bg-white rounded shadow p-2">
          <table class="w-full text-sm">
            <thead>
              <tr class="border-b text-gray-600">
                <th class="py-2 text-left">Producto</th>
                <th class="py-2 text-right">Precio</th>
                <th class="py-2 text-center">Cant</th>
                <th class="py-2 text-right">Subtotal</th>
              </tr>
            </thead>
            <tbody id="cartTable">
              <tr class="text-center text-gray-400">
                <td colspan="4" class="py-6">
                  Sin productos
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="mt-4 bg-white p-4 rounded shadow">
            <div class="flex justify-between text-xl font-bold mb-2">
            <span>Total</span>
            <span class="text-pink-600"><span id="total">$0.00</span></span>
            </div>

            <div class="space-y-2">
                <label class="text-sm text-gray-600">Paga con:</label>
                <input
                id="cashInput"
                type="number"
                min="0"
                placeholder="0.00"
                class="w-full border rounded-lg px-3 py-2 text-right text-lg"
                />

                <div class="flex justify-between text-lg font-bold text-gray-700">
                <span>Cambio:</span>
                <span id="changeSpan" class="text-green-600">$0.00</span>
                </div>
            </div>

            <button id="checkoutBtn"
            class="mt-4 w-full bg-pink-600 hover:bg-pink-700 text-white py-4 rounded-xl text-lg font-bold shadow transition">
            COBRAR
            </button>
        </div>
      </div>
    </section>

    <!-- ================= PRODUCTOS ================= -->
    <div id="productsSection" class="hidden p-6">

    <div class="grid grid-cols-2 gap-6">

      <!-- FORM -->
      <div class="bg-white p-4 rounded-xl shadow">
        <h2 class="text-lg font-bold mb-3">Agregar producto</h2>
         <input
  id="barcodeInput"
  type="text"
  placeholder="Escanea el cÃ³digo de barras"
  class="w-full mb-2 p-2 border-2 border-pink-400 rounded focus:ring-2 focus:ring-pink-500"
  autocomplete="off"
/>

<input id="nameInput" placeholder="Nombre" class="w-full mb-2 p-2 border rounded" />
<input id="priceInput" type="number" placeholder="Precio" class="w-full mb-2 p-2 border rounded" />
<input id="stockInput" type="number" placeholder="Stock" class="w-full mb-2 p-2 border rounded" />
<input id="tagsInput" placeholder="Tags opcionales (m,p)" class="w-full mb-3 p-2 border rounded" />

<button type="button" id="addProduct" class="bg-pink-600 text-white w-full py-2 rounded">
  Guardar
</button>
      </div>

      <!-- LISTA -->
      <div>
        <h2 class="text-lg font-bold mb-3">Productos</h2>
        <div id="productList" class="space-y-3"></div>
      </div>

    </div>
  </div>

    </section>

    <section id="reportsSection" class="hidden max-w-4xl mx-auto">

  <h2 class="text-3xl font-bold mb-6 text-gray-800">Reportes de Venta</h2>

  <div class="grid md:grid-cols-2 gap-6">
    
    <div class="bg-white rounded-2xl shadow p-6 border-t-4 border-pink-500">
      <h3 class="text-xl font-bold mb-4 text-pink-600">ðŸ“… Ventas de HOY</h3>
      
      <p class="text-gray-500 mb-4 text-sm">Carga las ventas realizadas el dÃ­a de hoy.</p>
      
      <button id="btnReporteDia" 
        class="w-full bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 rounded-xl shadow transition">
        Ver reporte de HOY
      </button>

      <div id="resultadoDia" class="mt-6 space-y-2 hidden bg-pink-50 p-4 rounded-lg">
        </div>
    </div>

    <div class="bg-white rounded-2xl shadow p-6 border-t-4 border-purple-500">
      <h3 class="text-xl font-bold mb-4 text-purple-600">ðŸ“† Ventas por Fechas</h3>

      <div class="flex flex-col gap-3 mb-4">
        <label class="text-xs text-gray-500">Desde:</label>
        <input type="date" id="startDate" class="p-2 border rounded w-full">
        
        <label class="text-xs text-gray-500">Hasta:</label>
        <input type="date" id="endDate" class="p-2 border rounded w-full">
      </div>

      <button id="btnReporteRango"
        class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded-xl shadow transition">
        Ver reporte
      </button>

      <div id="resultadoRango" class="mt-6 space-y-2 hidden bg-purple-50 p-4 rounded-lg">
        </div>
    </div>

  </div>

  <div class="mt-8 text-center">
    <button onclick="exportarExcel()"
      class="bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-xl font-bold shadow flex items-center gap-2 mx-auto">
      <span>ðŸ“¥</span> Exportar Historial Completo a Excel
    </button>
  </div>

</section>

    <!-- ===== SECCIÃ“N SOCIOS ===== -->
<div id="partnersSection" class="hidden w-full p-6">

  <div class="max-w-md bg-white p-4 rounded shadow mb-6">
    <h2 class="text-xl font-bold mb-3">Agregar socio</h2>

    <input id="partnerName"
      type="text"
      placeholder="Nombre del socio"
      class="w-full p-2 border rounded mb-2" />

    <input id="partnerTag"
      type="text"
      placeholder="Tag (ej: m, p)"
      class="w-full p-2 border rounded mb-2" />

    <button type="button" id="addPartner"
      class="w-full bg-pink-600 text-white py-2 rounded">
      Guardar socio
    </button>
  </div>

  <h3 class="text-lg font-bold mb-2">Socios registrados</h3>
  <div id="partnerList" class="space-y-2"></div>

</div>



  </main>

  <script src="js/app.js"></script>
</body>
</html>
